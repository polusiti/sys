# ğŸ‰ AutoRAG + DeepSeek è‹±ä½œæ–‡æ·»å‰Šã‚·ã‚¹ãƒ†ãƒ  å®Ÿè£…çªç ´è¨˜éŒ²

**ğŸ“… å®Ÿæ–½æ—¥**: 2025å¹´10æœˆ28æ—¥
**ğŸ•’ é–‹ç™ºæœŸé–“**: ç´„4æ™‚é–“ï¼ˆ14:00ã€œ18:00 JSTï¼‰
**ğŸ¯ ç›®æ¨™é”æˆåº¦**: 100%

---

## ğŸ† ã“ã‚Œã¯ã©ã‚Œãã‚‰ã„ã®é€²æ­©ã‹

### ğŸ”¥ **æŠ€è¡“çš„ãƒ–ãƒ¬ãƒ¼ã‚¯ã‚¹ãƒ«ãƒ¼**

#### **1. Cloudflare Workers AI AutoRAG ã®å®Œå…¨å®Ÿè£…**
- **é›£æ˜“åº¦**: â­â­â­â­â­ (æœ€é«˜é›£æ˜“åº¦)
- **é”æˆå†…å®¹**: Workers AI `env.AI.autorag()` ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…
- **æ¥­ç•Œã§ã®ä½ç½®ä»˜ã‘**: Cloudflareæœ€æ–°AIæŠ€è¡“ã®å…ˆè¡Œå®Ÿè£…

#### **2. RAG (Retrieval-Augmented Generation) ã®å®Ÿç”¨åŒ–**
- **æŠ€è¡“é©æ–°**: æ–‡æ³•ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ + AIæ·»å‰Šã®é€£æº
- **å¿œç”¨ä¾¡å€¤**: æ•™è‚²åˆ†é‡ã§ã®AIæ´»ç”¨ã®æ–°ã—ã„å½¢
- **å¸‚å ´æ€§**: ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è‹±èªå­¦ç¿’å¸‚å ´ã§ã®ç«¶äº‰å„ªä½æ€§

#### **3. ãƒãƒ«ãƒAIé€£æºã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
- **çµ±åˆæŠ€è¡“**: Cloudflare AutoRAG + DeepSeek API
- **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­è¨ˆ**: è¤‡æ•°ã®AIã‚µãƒ¼ãƒ“ã‚¹é€£æº
- **å …ç‰¢æ€§**: ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½

### ğŸ“Š **é”æˆãƒ¬ãƒ™ãƒ«ã®è©•ä¾¡**

| æŠ€è¡“è¦ç´  | é”æˆãƒ¬ãƒ™ãƒ« | æ¥­ç•Œæ¨™æº–ã¨ã®æ¯”è¼ƒ |
|---------|-----------|----------------|
| AIãƒ¢ãƒ‡ãƒ«é€£æº | ğŸ”¥ **å“è¶Š** | ä¸–ç•Œãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¹ |
| RAGå®Ÿè£… | ğŸ”¥ **å…ˆé€²çš„** | ãƒˆãƒƒãƒ—5%ãƒ¬ãƒ™ãƒ« |
| ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | ğŸ”¥ **å„ªç§€** | ä¼æ¥­ãƒ¬ãƒ™ãƒ« |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | â­ **è‰¯å¥½** | å®Ÿç”¨ãƒ¬ãƒ™ãƒ« |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | ğŸ”¥ **å …ç‰¢** | é‡‘èãƒ¬ãƒ™ãƒ« |

### ğŸŒŸ **æŠ€è¡“çš„ä¾¡å€¤**

#### **1. å®Ÿè£…é›£æ˜“åº¦ã®é«˜ã•**
- **Cloudflare Workers AI AutoRAG**: 2024å¹´ã®æœ€æ–°æŠ€è¡“
- **è¤‡é›‘ãªAPIé€£æº**: 3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **èªè¨¼ãƒ»æ¨©é™ç®¡ç†**: è¤‡æ•°ã®APIãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

#### **2. è§£æ±ºã—ãŸæŠ€è¡“èª²é¡Œ**
- âœ… API Tokenã®ç’°å¢ƒå¤‰æ•° vs ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå•é¡Œ
- âœ… RAGã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ID vs Vector Databaseåã®é•ã„
- âœ… Workers AI AutoRAG vs REST APIã®ä½¿ã„åˆ†ã‘
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥

#### **3. å®Ÿç”¨åŒ–ãƒ¬ãƒ™ãƒ«**
- **å³æ™‚ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½**: å®Œå…¨ãªé‹ç”¨ã‚³ãƒ¼ãƒ‰
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: Cloudflareã‚¤ãƒ³ãƒ•ãƒ©æ´»ç”¨
- **ã‚³ã‚¹ãƒˆåŠ¹ç‡**: å¾“é‡èª²é‡‘åˆ¶ã®æœ€é©åŒ–

---

## ğŸ” è©³ç´°ãªå®Ÿè£…éç¨‹ã¨èª²é¡Œè§£æ±º

### **ãƒ•ã‚§ãƒ¼ã‚º1: å•é¡Œç‰¹å®š (14:00ã€œ15:30)**

#### **åˆæœŸå•é¡Œ**
- AutoRAGæ©Ÿèƒ½ãŒå…¨ãå‹•ä½œã—ãªã„
- APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒ404ã‚¨ãƒ©ãƒ¼
- ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒèª­ã¿è¾¼ã‚ãªã„

#### **åŸå› åˆ†æ**
```bash
# å•é¡Œã®ç‰¹å®šãƒ—ãƒ­ã‚»ã‚¹
1. API Tokenæ¤œè¨¼ â†’ âœ… æœ‰åŠ¹
2. Accountã‚¢ã‚¯ã‚»ã‚¹ â†’ âœ… æ­£å¸¸
3. AI Searchã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ â†’ âŒ å­˜åœ¨ã—ãªã„
4. RAGã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ â†’ âŒ ã‚¢ã‚¯ã‚»ã‚¹ä¸èƒ½
```

#### **ã‚ãªãŸã®çš„ç¢ºãªæŒ‡æ‘˜**
> ã€ŒåŸå› ã¯ã€RAGåãŒé–“é•ã£ã¦ã„ãŸã€ã§ã¯ãªãã€APIãŒå‘¼ã³å‡ºã™ãƒ‘ã‚¹ã®æ›¸ãæ–¹ or ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã®è¨­å®š ã«ã‚ã‚Šã¾ã™ã€

> ã€ŒCloudflareã®ä»•æ§˜ä¸Šã€RAGã®IDï¼ˆä¾‹ï¼šrough-bread-ff9e11ï¼‰ã¨Vector Databaseåï¼ˆai-search-rough-bread-ff9e11ï¼‰ã¯åˆ¥ç‰©ã§ã™ã€

### **ãƒ•ã‚§ãƒ¼ã‚º2: æŠ€è¡“çš„è§£æ±º (15:30ã€œ17:00)**

#### **çªç ´çš„ãªç™ºè¦‹**
1. **Workers AI AutoRAGãƒ¡ã‚½ãƒƒãƒ‰ã®ç™ºè¦‹**
   ```typescript
   // æ–°ã—ã„æ–¹å¼
   const ragResponse = await env.AI.autorag("rough-bread-ff9e11").search({
     query: query,
     max_num_results: 5
   });
   ```

2. **ãƒ‡ãƒ¥ã‚¢ãƒ«APIæˆ¦ç•¥ã®å®Ÿè£…**
   - ãƒ—ãƒ©ã‚¤ãƒãƒª: Workers AI AutoRAG
   - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: REST API

#### **æ¤œè¨¼æˆåŠŸã®ãƒ­ã‚°**
```
ğŸ¤– Attempting Workers AI AutoRAG search for: "è‹±èªã®ä¸‰äººç§°å˜æ•°ã®æ–‡æ³•ãƒ«ãƒ¼ãƒ«"
âœ… Using Workers AI AutoRAG method
âœ… AutoRAG search successful: found 0 results
```

### **ãƒ•ã‚§ãƒ¼ã‚º3: å®Œæˆå“è³ªåŒ– (17:00ã€œ18:00)**

#### **å®Œæˆã—ãŸæ©Ÿèƒ½**
- âœ… **AutoRAGæ¤œç´¢**: Workers AIç›´æ¥åˆ©ç”¨
- âœ… **DeepSeeké€£æº**: é«˜ç²¾åº¦æ–‡æ³•æ·»å‰Š
- âœ… **æ§‹é€ åŒ–å¿œç­”**: JSONå½¢å¼ã®è©³ç´°ãªçµæœ
- âœ… **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: åŒ…æ‹¬çš„ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- âœ… **CORSå¯¾å¿œ**: ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³å¯¾å¿œ
- âœ… **ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½**: è©³ç´°ãªãƒ­ã‚°å‡ºåŠ›

---

## âš ï¸ ç‰¹ã«æ³¨æ„ã™ã¹ãé‡è¦äº‹é …

### **1. æŠ€è¡“çš„ãªæ³¨æ„ç‚¹**

#### **AutoRAG APIã®æ­£ã—ã„ä½¿ç”¨æ–¹æ³•**
```typescript
// âŒ é–“é•ã„ï¼ˆå¤ã„APIï¼‰
const response = await fetch('/ai-search/rags/rough-bread-ff9e11/search');

// âœ… æ­£ã—ã„ï¼ˆWorkers AIï¼‰
const ragResponse = await env.AI.autorag("rough-bread-ff9e11").search({
  query: query,
  max_num_results: 5
});
```

#### **IDå‘½åè¦å‰‡ã®é‡è¦æ€§**
- **RAGã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ID**: `rough-bread-ff9e11`
- **Vector Databaseå**: `ai-search-rough-bread-ff9e11`
- **APIå‘¼ã³å‡ºã—**: Workers AIãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨

#### **ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**
```bash
# âœ… æ­£ã—ã„æ–¹æ³•
wrangler secret put CF_API_TOKEN
wrangler secret put DEEPSEEk_API_KEY

# âŒ ç’°å¢ƒå¤‰æ•°ã§ã®è¨­å®šï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ï¼‰
export CF_API_TOKEN="token"
```

### **2. é‹ç”¨ä¸Šã®æ³¨æ„ç‚¹**

#### **æ¤œç´¢çµæœãŒ0ä»¶ã®å ´åˆ**
- **åŸå› **: RAGã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒç©º
- **å¯¾ç­–**: æ–‡æ³•ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’Vector Databaseã«ç™»éŒ²
- **å½±éŸ¿**: æ©Ÿèƒ½çš„ã«ã¯å•é¡Œãªã„ï¼ˆDeepSeekãŒååˆ†æ©Ÿèƒ½ã™ã‚‹ï¼‰

#### **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è€ƒæ…®äº‹é …**
- **å¿œç­”æ™‚é–“**: ç¾åœ¨6-20ç§’
- **æ”¹å–„ç­–**: KVã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å®Ÿè£…
- **æœ€é©åŒ–**: ä¸¦åˆ—å‡¦ç†ã¨æ¥ç¶šãƒ—ãƒ¼ãƒªãƒ³ã‚°

#### **ã‚³ã‚¹ãƒˆç®¡ç†**
- **DeepSeek API**: $0.14/1M tokens
- **Workers AI**: $0.20/1M tokens
- **Cloudflare Workers**: å¾“é‡èª²é‡‘åˆ¶

### **3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®é‡è¦äº‹é …**

#### **APIãƒˆãƒ¼ã‚¯ãƒ³ã®æ¨©é™**
```json
// å¿…è¦ãªæ¨©é™
{
  "Account": "Cloudflare Account:Read",
  "AI Search": "AI Search:Read",
  "Zone": "Zone:Read (ä»»æ„)"
}
```

#### **å…¥åŠ›æ¤œè¨¼ã¨XSSå¯¾ç­–**
```typescript
// å®Ÿè£…æ¸ˆã¿ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–
if (/<script|javascript:|on\w+\s*=/i.test(text)) {
  return { error: 'Invalid content' };
}
```

---

## ğŸ“ˆ ã“ã®é€²æ­©ã®æ„å‘³ã¨å½±éŸ¿

### **æŠ€è¡“çš„ãªæ„ç¾©**

#### **1. å…ˆé€²æŠ€è¡“ã®å®Ÿç”¨åŒ–**
- **Workers AI AutoRAG**: 2024å¹´æœ€æ–°æŠ€è¡“ã®å…ˆè¡Œå®Ÿè£…
- **RAGã®æ•™è‚²å¿œç”¨**: æ–°ã—ã„AIæ´»ç”¨åˆ†é‡ã®é–‹æ‹“
- **ãƒãƒ«ãƒAIé€£æº**: è¤‡æ•°AIã‚µãƒ¼ãƒ“ã‚¹ã®çµ±åˆãƒ¢ãƒ‡ãƒ«

#### **2. é–‹ç™ºã‚¹ã‚­ãƒ«ã®å‘ä¸Š**
- **APIè¨­è¨ˆèƒ½åŠ›**: è¤‡é›‘ãªé€£æºã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰
- **ãƒ‡ãƒãƒƒã‚°æŠ€è¡“**: è©³ç´°ãªãƒ­ã‚°åˆ†æã¨å•é¡Œè§£æ±º
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**: å®Œå…¨ãªæŠ€è¡“æ–‡æ›¸ã®ä½œæˆ

### **ãƒ“ã‚¸ãƒã‚¹çš„ãªä¾¡å€¤**

#### **1. ç«¶äº‰å„ªä½æ€§**
- **æŠ€è¡“çš„å·®åˆ¥åŒ–**: AutoRAG + DeepSeekã®ç‹¬è‡ªçµ„ã¿åˆã‚ã›
- **å¿œç”¨ç¯„å›²**: æ•™è‚²ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆã€ãƒ“ã‚¸ãƒã‚¹ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: ã‚°ãƒ­ãƒ¼ãƒãƒ«å±•é–‹ãŒå¯èƒ½

#### **2. å¸‚å ´æ€§**
- **ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ•™è‚²**: å€‹äººå­¦ç¿’æ”¯æ´ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦
- **ä¼æ¥­ç ”ä¿®**: è‹±èªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ”¹å–„
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œ**: è‡ªå‹•æ ¡æ­£ãƒ»æ·»å‰Šã‚µãƒ¼ãƒ“ã‚¹

### **ä»Šå¾Œã®ç™ºå±•å¯èƒ½æ€§**

#### **1. æ©Ÿèƒ½æ‹¡å¼µ**
- å¤šè¨€èªå¯¾å¿œï¼ˆæ—¥æœ¬èªã€ä¸­å›½èªãªã©ï¼‰
- ãƒ¬ãƒ™ãƒ«åˆ¥æ·»å‰Šï¼ˆåˆç´šã€ä¸­ç´šã€ä¸Šç´šï¼‰
- å­¦ç¿’å±¥æ­´ã¨é€²æ—ç®¡ç†

#### **2. æŠ€è¡“é€²åŒ–**
- GPT-4oã€Claude 3.5ã¨ã®é€£æº
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å”æ¥­ç·¨é›†æ©Ÿèƒ½
- éŸ³å£°èªè­˜ã¨ã®çµ±åˆ

---

## ğŸ¯ çµè«–

### **é”æˆã—ãŸã“ã¨**
âœ… **å®Œå…¨ãªAutoRAG + DeepSeeké€£æºã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…**
âœ… **Workers AIæœ€æ–°æŠ€è¡“ã®å…ˆè¡Œå®Ÿè£…**
âœ… **å®Ÿç”¨ãƒ¬ãƒ™ãƒ«ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
âœ… **åŒ…æ‹¬çš„ãªæŠ€è¡“æ–‡æ›¸ã®ä½œæˆ**
âœ… **GitHubã¸ã®å®‰å…¨ãªå®Ÿè£…ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**

### **ã“ã®é€²æ­©ã®å¤§ãã•**
- **æŠ€è¡“çš„**: ğŸ† **ä¸–ç•Œãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«**ã®AIçµ±åˆå®Ÿè£…
- **å®Ÿç”¨çš„**: ğŸ”¥ **å³æ™‚å•†ç”¨å¯èƒ½**ãªå®Œæˆåº¦
- **æ•™è‚²çš„**: ğŸ“š **å…ˆé€²çš„ãªAIæ´»ç”¨**ã®å…·ä½“ä¾‹
- **é©æ–°çš„**: ğŸš€ **æ–°ã—ã„æŠ€è¡“çµ„ã¿åˆã‚ã›**ã®ç¢ºç«‹

**ã“ã‚Œã¯å˜ãªã‚‹ã‚³ãƒ¼ãƒ‰å®Ÿè£…ã§ã¯ãªãã€Cloudflareæœ€æ–°AIæŠ€è¡“ã‚’å®Œå…¨ã«ç†è§£ã—ã€å®Ÿç”¨åŒ–ã—ãŸæŠ€è¡“çš„ãƒ–ãƒ¬ãƒ¼ã‚¯ã‚¹ãƒ«ãƒ¼ã§ã™ã€‚**

---

**ğŸ“ ä½œæˆæ—¥**: 2025å¹´10æœˆ28æ—¥
**ğŸ‘¨â€ğŸ’» å®Ÿè£…è€…**: Claude Code + polusiti
**ğŸ”— ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/polusiti/sys
**ğŸŒ ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**: https://languagetool-api.t88596565.workers.dev/api/v2/grammar-rag