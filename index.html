<!DOCTYPE html>
<html lang="ja" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>試験対策テストアプリ - TestApp</title>
  <meta name="description" content="英語・化学・数学・物理の試験対策ポータル">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#4285f4">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="TestApp">
  <link rel="apple-touch-icon" href="https://pub-d59d6e46c3154423956f648f8df909ae.r2.dev/61203.jpg"
  <link rel="icon" type="image/svg+xml" href="assets/img/logo.svg">
  <link rel="preload" href="assets/css/base.css" as="style">
  <link rel="stylesheet" href="assets/css/base.css">
  <link rel="stylesheet" href="assets/css/layout.css">
  <link rel="stylesheet" href="assets/css/components.css">
  <link rel="stylesheet" href="assets/css/themes.css">
  <link rel="stylesheet" href="assets/css/effects.css">
</head>
<body>
  <a class="skip-link" href="#main">メインコンテンツへ移動</a>

  <!-- 全体スクロール進捗バー -->
  <div class="scroll-progress-bar" aria-hidden="true">
    <div class="scroll-progress-fill" id="scrollProgressFill"></div>
  </div>

  <!-- 浮遊背景 (canvas または div) -->
  <div class="bg-layer" aria-hidden="true">
    <div class="bg-orb orb-1"></div>
    <div class="bg-orb orb-2"></div>
    <div class="bg-orb orb-3"></div>
  </div>

  <!-- ヘッダー -->
  <header class="site-header" id="siteHeader" data-shrink="false">
    <div class="header-inner">
      <div class="brand">
        <img src="https://pub-d59d6e46c3154423956f648f8df909ae.r2.dev/61203.jpg" alt="TestApp ロゴ" class="logo">
        <span class="brand-name">TestApp</span>
      </div>

      <nav class="primary-nav" aria-label="メインナビゲーション">
        <ul class="nav-list" id="navList" data-nav>
          <li class="nav-item"><a href="#home" class="nav-link active">ホーム</a></li>
          <li class="nav-item"><a href="#subjects" class="nav-link">科目</a></li>
          <li class="nav-item"><a href="#about" class="nav-link">概要</a></li>
          <li class="nav-item"><a href="#links" class="nav-link">友リンク</a></li>
          <li class="nav-item"><a href="#contact" class="nav-link">お問い合わせ</a></li>
        </ul>
        <span class="nav-indicator" id="navIndicator" aria-hidden="true"></span>
      </nav>

      <div class="header-tools">
        <button class="theme-toggle" id="themeCycleBtn" aria-label="テーマ切替 (順送り)">
          <span class="theme-icon" data-theme-icon>🌞</span>
        </button>
        <div class="theme-quick" id="themeQuick">
          <button class="theme-pill" data-set-theme="light" title="Light">L</button>
            <button class="theme-pill" data-set-theme="dark" title="Dark">D</button>
            <button class="theme-pill" data-set-theme="reading" title="Reading">R</button>
        </div>
        <button class="menu-toggle" id="menuToggle" aria-label="モバイルメニュー" aria-expanded="false" aria-controls="mobileNav">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>

    <!-- モバイル展開ナビ -->
    <nav id="mobileNav" class="mobile-nav" hidden>
      <ul class="mobile-nav-list" id="mobileNavList">
        <li><a href="#home">ホーム</a></li>
        <li><a href="#subjects">科目</a></li>
        <li><a href="#about">概要</a></li>
        <li><a href="#links">友リンク</a></li>
        <li><a href="#contact">お問い合わせ</a></li>
      </ul>
    </nav>
  </header>

  <!-- サイドバー -->
  <aside class="sidebar" aria-label="サイドバー">
    <section class="profile-card glass">
      <img
      src="https://pub-d59d6e46c3154423956f648f8df909ae.r2.dev/741.jpg"
      alt="管理者アバター"
      class="avatar"
      width="60"
      height="60"
      loading="lazy"
      decoding="async">
      <h2 class="profile-name">管理者</h2>
      <p class="profile-intro">試験対策と学習ログ。</p>
      <div class="profile-links">
        <a href="#" aria-label="GitHub" class="icon-btn" title="GitHub">🐙</a>
        <a href="#" aria-label="X" class="icon-btn" title="X / Twitter">✖️</a>
      </div>
    </section>

    <section class="notice-card glass">
      <h3 class="card-title">お知らせ</h3>
      <ul class="notice-list">
        <li>リスニング第一弾を公開。</li>
        <li>ダーク/読書テーマ追加。</li>
        <li>化学テスト初期問題を整備中。</li>
      </ul>
    </section>

    <section class="links-card glass" id="links">
      <h3 class="card-title">友リンク</h3>
      <div class="friend-links-wrapper">
        <ul class="friend-links" id="friendLinks" aria-live="polite"></ul>
      </div>
      <button class="btn tiny ghost" id="reloadLinksBtn" type="button">再読込</button>
    </section>

    <section class="theme-panel glass">
      <h3 class="card-title">テーマ</h3>
      <div class="theme-options">
        <button class="theme-chip" data-set-theme="light">Light</button>
        <button class="theme-chip" data-set-theme="dark">Dark</button>
        <button class="theme-chip" data-set-theme="reading">Reading</button>
      </div>
    </section>

    <section class="signature-card glass">
      <p class="small-mono">“Consistency beats intensity.”</p>
    </section>
  </aside>

  <!-- メイン -->
  <main id="main" class="main">
    <!-- ヒーロー -->
    <section id="home" class="hero">
      <div class="hero-content">
        <h1 class="hero-title fade-in">試験対策テストアプリ</h1>
        <p class="hero-subtitle fade-in-delay">英語・化学・数学・物理で実力をセルフチェック。テーマ切替・レスポンシブ対応。</p>
        <div class="hero-actions fade-in-delay2">
          <a href="#subjects" class="btn primary">科目を選ぶ</a>
          <a href="#about" class="btn ghost">概要を見る</a>
        </div>
      </div>
      <div class="hero-decor" aria-hidden="true">
        <span class="pulse-dot d1"></span>
        <span class="pulse-dot d2"></span>
        <span class="pulse-dot d3"></span>
      </div>
    </section>

    <!-- 科目 -->
    <section id="subjects" class="section">
      <header class="section-head">
        <h2 class="section-title">科目一覧</h2>
        <p class="section-desc">学びたい科目を選んでテスト開始</p>
      </header>
      <div class="card-grid subject-grid">
        <article class="subject-card obs" data-subject="english" tabindex="0">
          <div class="subject-ribbon">NEW</div>
          <div class="subject-icon gradient-1">📝</div>
          <h3 class="subject-name">英語</h3>
          <p class="subject-desc">語彙・文法・読解・リスニング</p>
          <a href="english.html" class="btn small" aria-label="英語テストを開始">開始</a>
        </article>

        <article class="subject-card obs" data-subject="chemistry" tabindex="0">
          <div class="subject-icon gradient-2">🧪</div>
          <h3 class="subject-name">化学</h3>
          <p class="subject-desc">基礎化学・反応式・計算</p>
          <a href="chemistry.html" class="btn small" aria-label="化学テストを開始">開始</a>
        </article>

        <article class="subject-card obs" data-subject="math" tabindex="0">
          <div class="subject-icon gradient-3">➗</div>
          <h3 class="subject-name">数学</h3>
            <p class="subject-desc">代数・図形・確率</p>
          <a href="math.html" class="btn small" aria-label="数学テストを開始">開始</a>
        </article>

        <article class="subject-card obs" data-subject="physics" tabindex="0">
          <div class="subject-icon gradient-4">🔭</div>
          <h3 class="subject-name">物理</h3>
          <p class="subject-desc">力学・波動・電磁気</p>
          <a href="physics.html" class="btn small" aria-label="物理テストを開始">開始</a>
        </article>
            <!-- カテゴリ: 情報 -->
    <article class="subject-card obs" data-subject="info" tabindex="0">
      <div class="subject-icon gradient-5">💻</div>
      <h3 class="subject-name">情報</h3>
      <p class="subject-desc">SC対策 / 共通テスト</p>
      <a href="info/index.html" class="btn small" aria-label="情報カテゴリへ">選択</a>
    </article>

    <!-- カテゴリ: 法学 -->
    <article class="subject-card obs" data-subject="law" tabindex="0">
      <div class="subject-icon gradient-6">⚖️</div>
      <h3 class="subject-name">法学</h3>
      <p class="subject-desc">民法 / 行政法 ほか</p>
      <a href="law/index.html" class="btn small" aria-label="法学カテゴリへ">選択</a>
    </article>
      </div>
    </section>

        <article class="subject-card obs" data-subject="minigame" tabindex="0">
      <div class="subject-ribbon">NEW</div>
      <div class="subject-icon gradient-7">🎮</div>
      <h3 class="subject-name">ミニゲーム</h3>
      <p class="subject-desc">将棋 / オセロ / チェス</p>
      <a href="minigame/index.html" class="btn small" aria-label="ミニゲームカテゴリへ">選択</a>
    </article>
      </div>
    </section>

    <!-- 概要 -->
    <section id="about" class="section alt">
      <header class="section-head">
        <h2 class="section-title">このサイトについて</h2>
      </header>
      <p>
        科目別のトレーニングと軽量 UI を提供する学習補助アプリです。今後は進捗保存・復習モード・統合ダッシュボードなどを拡張予定。
      </p>
    </section>

    <!-- 友リンク(メインにも) -->
    <section class="section">
      <header class="section-head">
        <h2 class="section-title">友リンク抜粋</h2>
      </header>
      <div class="friend-inline" id="friendInline" aria-live="polite"></div>
    </section>

    <!-- お問い合わせ -->
    <section id="contact" class="section">
      <header class="section-head">
        <h2 class="section-title">お問い合わせ</h2>
      </header>
      <p>改善要望・バグ報告は X へお願いします。</p>
      <a href="https://x.com/allfrom0?s=09" class="btn ghost">Issues</a>
    </section>
  </main>

  <!-- Back To Top -->
  <button class="backtotop" id="backToTop" aria-label="ページ上部へ">
    <svg viewBox="0 0 36 36" class="progress-ring">
      <path class="progress-ring__bg" d="M18 2 a16 16 0 0 1 0 32 a16 16 0 0 1 0 -32"/>
      <path class="progress-ring__value" id="btpProgress" d="M18 2 a16 16 0 0 1 0 32 a16 16 0 0 1 0 -32"/>
    </svg>
    <span class="btp-icon">↑</span>
  </button>

  <!-- フッター -->
  <footer class="site-footer">
    <p>&copy; 2025 TestApp. All Rights Reserved.</p>
  </footer>

  <!-- JS -->
  <script src="assets/js/theme.js" defer></script>
  <script src="assets/js/nav.js" defer></script>
  <script src="assets/js/scroll-progress.js" defer></script>
  <script src="assets/js/click-text.js" defer></script>
  <script src="assets/js/friends.js" defer></script>
  <script src="assets/js/observe-cards.js" defer></script>
  <script src="assets/js/backtotop.js" defer></script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js')
          .then(function(registration) {
            console.log('PWA: Service Worker登録成功', registration.scope);
          })
          .catch(function(error) {
            console.log('PWA: Service Worker登録失敗', error);
          });
      });
    }
  </script>
</body>
</html>
